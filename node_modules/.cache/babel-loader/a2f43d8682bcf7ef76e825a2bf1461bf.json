{"ast":null,"code":"var _jsxFileName = \"D:\\\\module 3\\\\ReactJS\\\\electricity-billing-system\\\\src\\\\Components\\\\Consumption\\\\SaveConsumption.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { Redirect } from 'react-router-dom';\nimport Header from './Header';\nimport Footer from \"./Footer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SaveConsumption extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      let consumption = {\n        \"connectionConnectionId\": this.state.connectionId,\n        \"currentReading\": this.state.currentReading,\n        \"currentdate\": this.state.currentdate,\n        \"previousReading\": this.state.previousReading,\n        \"previousdate\": this.state.previousdate,\n        \"unitsConsumed\": this.state.unitsConsumed\n      };\n\n      if (this.handleFormValidation()) {\n        axios.post(\"http://localhost:8080/consumption/save/\" + this.state.connectionId, consumption).then(resp => {\n          console.log(resp);\n\n          if (resp.status === 200) {\n            this.setState({\n              consumption: resp.data,\n              isSave: true\n            });\n            alert(\"Consumption saved successfully!\");\n          }\n        }).catch(error => {\n          console.log(error.response);\n\n          if (error.response.status === 404) {\n            this.setState({\n              isSave: false\n            });\n            alert(\"Consumption not saved\");\n          }\n        });\n      }\n\n      event.preventDefault();\n    };\n\n    this.state = {\n      currentReading: '',\n      currentdate: '',\n      previousReading: '',\n      previousdate: '',\n      unitsConsumed: '',\n      connectionId: '',\n      isSave: false,\n      formErrors: {}\n    };\n  }\n\n  handleFormValidation() {\n    let formErrors = {};\n    let formIsValid = true;\n\n    if (!this.state.connectionId) {\n      formIsValid = false;\n      formErrors[\"idError\"] = \"Connection Id is required\";\n    }\n\n    if (!this.state.currentReading) {\n      formIsValid = false;\n      formErrors[\"CurrentReadingError\"] = \"Current reading is required\";\n    }\n\n    if (!this.state.previousReading) {\n      formIsValid = false;\n      formErrors[\"PreviousReadingError\"] = \"Previous reading is required\";\n    }\n\n    if (!this.state.previousdate) {\n      formIsValid = false;\n      formErrors[\"CurrentDateError\"] = \"Current Date is required\";\n    }\n\n    if (!this.state.previousdate) {\n      formIsValid = false;\n      formErrors[\"PreviousDateError\"] = \"Previous Date is required\";\n    }\n\n    this.setState({\n      formErrors: formErrors\n    });\n    return formIsValid;\n  }\n\n  render() {\n    if (this.state.isSave) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Add Consumption\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"connectionId\",\n            children: \"connection Id\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"connectionId\",\n            value: this.state.connectionId,\n            onChange: this.handleChange,\n            className: \"form-control\",\n            placeholder: \"Enter connection Id\",\n            id: \"connectionConnectionId\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"currentReading\",\n            children: \"Current Reading\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"currentReading\",\n            value: this.state.currentReading,\n            onChange: this.handleChange,\n            className: \"form-control\",\n            placeholder: \"Enter current reading\",\n            id: \"currentReading\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"currentdate\",\n            children: \"Current Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            name: \"currentdate\",\n            value: this.state.currentdate,\n            onChange: this.handleChange,\n            className: \"form-control\",\n            placeholder: \"Enter current date\",\n            id: \"currentdate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"previousReading\",\n            children: \"Previous Reading\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"previousReading\",\n            value: this.state.previousReading,\n            onChange: this.handleChange,\n            className: \"form-control\",\n            placeholder: \"Enter previous reading\",\n            id: \"previousReading\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"previousdate\",\n            children: \"Previous Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            name: \"previousdate\",\n            value: this.state.previousdate,\n            onChange: this.handleChange,\n            className: \"form-control\",\n            placeholder: \"Enter previous date\",\n            id: \"previousdate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"unitsConsumed\",\n            children: \"Units Consumed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"unitsConsumed\",\n            value: this.state.unitsConsumed,\n            onChange: this.handleChange,\n            className: \"form-control\",\n            placeholder: \"Enter units consumed\",\n            id: \"unitsConsumed\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.handleSubmit,\n            className: \"btn btn-primary\",\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default SaveConsumption;","map":{"version":3,"sources":["D:/module 3/ReactJS/electricity-billing-system/src/Components/Consumption/SaveConsumption.js"],"names":["React","axios","Redirect","Header","Footer","SaveConsumption","Component","constructor","handleChange","event","setState","target","name","value","handleSubmit","consumption","state","connectionId","currentReading","currentdate","previousReading","previousdate","unitsConsumed","handleFormValidation","post","then","resp","console","log","status","data","isSave","alert","catch","error","response","preventDefault","formErrors","formIsValid","render"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Footer from \"./Footer\";\r\n\r\nclass SaveConsumption extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n           currentReading : '',\r\n           currentdate : '',\r\n           previousReading : '',\r\n           previousdate : '',\r\n           unitsConsumed : '',\r\n           connectionId : '',\r\n           isSave : false,\r\n           formErrors:{}\r\n        }\r\n    }\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    }\r\n    handleFormValidation(){\r\n        let formErrors = {};\r\n        let formIsValid = true;\r\n\r\n        if(!this.state.connectionId){\r\n            formIsValid = false;\r\n            formErrors[\"idError\"] = \"Connection Id is required\";\r\n        }\r\n        if(!this.state.currentReading){\r\n            formIsValid = false;\r\n            formErrors[\"CurrentReadingError\"] = \"Current reading is required\";\r\n        }\r\n        if(!this.state.previousReading){\r\n            formIsValid = false;\r\n            formErrors[\"PreviousReadingError\"] = \"Previous reading is required\";\r\n        }\r\n        if(!this.state.previousdate){\r\n            formIsValid = false;\r\n            formErrors[\"CurrentDateError\"] = \"Current Date is required\";\r\n        }\r\n        if(!this.state.previousdate){\r\n            formIsValid = false;\r\n            formErrors[\"PreviousDateError\"] = \"Previous Date is required\";\r\n        }\r\n        this.setState({\r\n            formErrors:formErrors\r\n        })\r\n        return formIsValid;\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n       \r\n        let consumption = {\r\n            \"connectionConnectionId\" : this.state.connectionId,\r\n            \"currentReading\" : this.state.currentReading,\r\n            \"currentdate\" : this.state.currentdate,\r\n            \"previousReading\" : this.state.previousReading,\r\n            \"previousdate\" : this.state.previousdate,\r\n            \"unitsConsumed\" : this.state.unitsConsumed\r\n        }\r\n        if(this.handleFormValidation()){\r\n        axios.post(\"http://localhost:8080/consumption/save/\"+this.state.connectionId, consumption).then(resp=>{\r\n            console.log(resp);\r\n            if(resp.status === 200){\r\n                this.setState({\r\n                    consumption: resp.data,\r\n                    isSave:true\r\n                })\r\n                alert(\"Consumption saved successfully!\");\r\n            \r\n            }\r\n        }).catch(error =>{\r\n            console.log(error.response);\r\n            if(error.response.status === 404){\r\n                this.setState({\r\n                    isSave: false\r\n                })\r\n                alert(\"Consumption not saved\");\r\n            }\r\n        });\r\n    }\r\n        event.preventDefault();\r\n    }\r\n\r\n    render() {\r\n        if(this.state.isSave) {\r\n            return <Redirect to={\"/\"}/>\r\n        }\r\n        return (\r\n            <div>\r\n            <Header/>\r\n            <div className=\"container-fluid\">\r\n                <h2>Add Consumption</h2>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"connectionId\">connection Id</label>\r\n                    <input type=\"number\" name=\"connectionId\" value={this.state.connectionId} onChange={this.handleChange} className=\"form-control\" placeholder=\"Enter connection Id\" id=\"connectionConnectionId\" />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"currentReading\">Current Reading</label>\r\n                    <input type=\"number\" name=\"currentReading\" value={this.state.currentReading} onChange={this.handleChange} className=\"form-control\" placeholder=\"Enter current reading\" id=\"currentReading\" />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label for=\"currentdate\">Current Date</label>\r\n                    <input type=\"date\" name=\"currentdate\" value={this.state.currentdate} onChange={this.handleChange} className=\"form-control\" placeholder=\"Enter current date\" id=\"currentdate\" />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"previousReading\">Previous Reading</label>\r\n                    <input type=\"number\" name=\"previousReading\" value={this.state.previousReading} onChange={this.handleChange} className=\"form-control\" placeholder=\"Enter previous reading\" id=\"previousReading\" />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"previousdate\">Previous Date</label>\r\n                    <input type=\"date\" name=\"previousdate\" value={this.state.previousdate} onChange={this.handleChange} className=\"form-control\" placeholder=\"Enter previous date\" id=\"previousdate\" />\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"unitsConsumed\">Units Consumed</label>\r\n                    <input type=\"number\" name=\"unitsConsumed\" value={this.state.unitsConsumed} onChange={this.handleChange} className=\"form-control\" placeholder=\"Enter units consumed\" id=\"unitsConsumed\" />\r\n                </div>\r\n                <div>\r\n                    <button onClick={this.handleSubmit} className=\"btn btn-primary\">Add</button>\r\n                </div>\r\n            </div>\r\n            <Footer/>\r\n            </div>\r\n        )\r\n    }\r\n \r\n}\r\n\r\nexport default SaveConsumption;"]},"metadata":{},"sourceType":"module"}