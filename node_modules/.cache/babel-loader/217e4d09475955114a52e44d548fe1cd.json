{"ast":null,"code":"var _jsxFileName = \"D:\\\\module 3\\\\ReactJS\\\\electricity-billing-system\\\\src\\\\Components\\\\Consumption\\\\SaveConsumption.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport { Redirect } from 'react-router-dom';\nimport Header from './Header';\nimport Footer from \"./Footer\";\nimport './ConsumptionStyle.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass SaveConsumption extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      let consumption = {\n        \"connectionConnectionId\": this.state.connectionId,\n        \"currentReading\": this.state.currentReading,\n        \"currentdate\": this.state.currentdate,\n        \"previousReading\": this.state.previousReading,\n        \"previousdate\": this.state.previousdate,\n        \"unitsConsumed\": this.state.unitsConsumed\n      };\n\n      if (this.handleFormValidation()) {\n        axios.post(\"http://localhost:8080/consumption/save/\" + this.state.connectionId, consumption).then(resp => {\n          console.log(resp);\n\n          if (resp.status === 201) {\n            this.setState({\n              consumption: resp.data,\n              isSave: true\n            });\n            alert(\"Consumption saved successfully!\");\n          }\n        }).catch(error => {\n          console.log(error.response);\n\n          if (error.response.status === 404) {\n            this.setState({});\n          }\n        });\n      }\n\n      event.preventDefault();\n    };\n\n    this.state = {\n      currentReading: '',\n      currentdate: '',\n      previousReading: '',\n      previousdate: '',\n      unitsConsumed: '',\n      connectionId: '',\n      isSave: '',\n      formErrors: {}\n    };\n  }\n\n  handleFormValidation() {\n    let formErrors = {};\n    let formIsValid = true;\n\n    if (!this.state.connectionId) {\n      formIsValid = false;\n      formErrors[\"idErr\"] = \"Connection Id is required\";\n    }\n\n    if (!this.state.currentReading) {\n      formIsValid = false;\n      formErrors[\"CurrentReadingErr\"] = \"Current reading is required\";\n    }\n\n    if (!this.state.previousReading) {\n      formIsValid = false;\n      formErrors[\"PreviousReadingErr\"] = \"Previous reading is required\";\n    }\n\n    if (!this.state.previousdate) {\n      formIsValid = false;\n      formErrors[\"CurrentDateErr\"] = \"Current Date is required\";\n    }\n\n    if (!this.state.previousdate) {\n      formIsValid = false;\n      formErrors[\"PreviousDateErr\"] = \"Previous Date is required\";\n    }\n\n    this.setState({\n      formErrors: formErrors\n    });\n    return formIsValid;\n  }\n\n  render() {\n    if (this.state.isSave) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/ConsumptionHome\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        style: {\n          paddingBottom: \"10%\",\n          overflowX: \"auto\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: \"Add Consumption\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"connectionId\",\n            children: \"connection Id\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"connectionId\",\n            value: this.state.connectionId,\n            onChange: this.handleChange,\n            className: \"form-control\",\n            placeholder: \"Enter connection Id\",\n            id: \"connectionConnectionId\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 21\n          }, this), this.state.formErrors.idErr && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: \"red\",\n              paddingBottom: 10\n            },\n            children: this.state.formErrors.idErr\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 56\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"currentReading\",\n            children: \"Current Reading\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"currentReading\",\n            value: this.state.currentReading,\n            onChange: this.handleChange,\n            className: \"form-control\",\n            placeholder: \"Enter current reading\",\n            id: \"currentReading\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 21\n          }, this), this.state.formErrors.CurrentReadingErr && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: \"red\",\n              paddingBottom: 10\n            },\n            children: this.state.formErrors.CurrentReadingErr\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 66\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"currentdate\",\n            children: \"Current Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            name: \"currentdate\",\n            value: this.state.currentdate,\n            onChange: this.handleChange,\n            className: \"form-control\",\n            placeholder: \"Enter current date\",\n            id: \"currentdate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 21\n          }, this), this.state.formErrors.CurrentDateErr && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: \"red\",\n              paddingBottom: 10\n            },\n            children: this.state.formErrors.CurrentDateErr\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 63\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"previousReading\",\n            children: \"Previous Reading\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"previousReading\",\n            value: this.state.previousReading,\n            onChange: this.handleChange,\n            className: \"form-control\",\n            placeholder: \"Enter previous reading\",\n            id: \"previousReading\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 21\n          }, this), this.state.formErrors.PreviousReadingErr && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: \"red\",\n              paddingBottom: 10\n            },\n            children: this.state.formErrors.PreviousReadingErr\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 67\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"previousdate\",\n            children: \"Previous Date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            name: \"previousdate\",\n            value: this.state.previousdate,\n            onChange: this.handleChange,\n            className: \"form-control\",\n            placeholder: \"Enter previous date\",\n            id: \"previousdate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 21\n          }, this), this.state.formErrors.PreviousDateErr && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: \"red\",\n              paddingBottom: 10\n            },\n            children: this.state.formErrors.PreviousDateErr\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 64\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            paddingLeft: \"250px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: this.handleSubmit,\n            className: \"button\",\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default SaveConsumption;","map":{"version":3,"sources":["D:/module 3/ReactJS/electricity-billing-system/src/Components/Consumption/SaveConsumption.js"],"names":["React","axios","Redirect","Header","Footer","SaveConsumption","Component","constructor","handleChange","event","setState","target","name","value","handleSubmit","consumption","state","connectionId","currentReading","currentdate","previousReading","previousdate","unitsConsumed","handleFormValidation","post","then","resp","console","log","status","data","isSave","alert","catch","error","response","preventDefault","formErrors","formIsValid","render","paddingBottom","overflowX","textAlign","idErr","color","CurrentReadingErr","CurrentDateErr","PreviousReadingErr","PreviousDateErr","paddingLeft"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from 'react-router-dom';\r\nimport Header from './Header';\r\nimport Footer from \"./Footer\";\r\nimport './ConsumptionStyle.css';\r\n\r\nclass SaveConsumption extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n           currentReading : '',\r\n           currentdate : '',\r\n           previousReading : '',\r\n           previousdate : '',\r\n           unitsConsumed : '',\r\n           connectionId : '',\r\n           isSave : '',\r\n           formErrors:{}\r\n        }\r\n    }\r\n    handleChange = (event) => {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n    }\r\n    handleFormValidation(){\r\n        let formErrors = {};\r\n        let formIsValid = true;\r\n\r\n        if(!this.state.connectionId){\r\n            formIsValid = false;\r\n            formErrors[\"idErr\"] = \"Connection Id is required\";\r\n        }\r\n        if(!this.state.currentReading){\r\n            formIsValid = false;\r\n            formErrors[\"CurrentReadingErr\"] = \"Current reading is required\";\r\n        }\r\n        if(!this.state.previousReading){\r\n            formIsValid = false;\r\n            formErrors[\"PreviousReadingErr\"] = \"Previous reading is required\";\r\n        }\r\n        if(!this.state.previousdate){\r\n            formIsValid = false;\r\n            formErrors[\"CurrentDateErr\"] = \"Current Date is required\";\r\n        }\r\n        if(!this.state.previousdate){\r\n            formIsValid = false;\r\n            formErrors[\"PreviousDateErr\"] = \"Previous Date is required\";\r\n        }\r\n        this.setState({\r\n            formErrors:formErrors\r\n        })\r\n        return formIsValid;\r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n       \r\n        let consumption = {\r\n            \"connectionConnectionId\" : this.state.connectionId,\r\n            \"currentReading\" : this.state.currentReading,\r\n            \"currentdate\" : this.state.currentdate,\r\n            \"previousReading\" : this.state.previousReading,\r\n            \"previousdate\" : this.state.previousdate,\r\n            \"unitsConsumed\" : this.state.unitsConsumed\r\n        }\r\n        if(this.handleFormValidation()){\r\n        axios.post(\"http://localhost:8080/consumption/save/\"+this.state.connectionId, consumption).then(resp=>{\r\n            console.log(resp);\r\n            if(resp.status === 201){\r\n                this.setState({\r\n                    consumption: resp.data,\r\n                    isSave:true\r\n                })\r\n                alert(\"Consumption saved successfully!\");\r\n            }\r\n        }).catch(error =>{\r\n            console.log(error.response);\r\n            if(error.response.status === 404){\r\n                this.setState({\r\n                   \r\n                })\r\n            }\r\n        });\r\n    }\r\n        event.preventDefault();\r\n    }\r\n\r\n    render() {\r\n        if(this.state.isSave) {\r\n            return <Redirect to={\"/ConsumptionHome\"}/>\r\n        }\r\n        return (\r\n            <div>\r\n            <Header/>\r\n            <div className=\"container-fluid\" style={{paddingBottom:\"10%\", overflowX:\"auto\"}}>\r\n                <h2 style={{textAlign:\"center\"}}>Add Consumption</h2>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"connectionId\">connection Id</label>\r\n                    <input type=\"number\" name=\"connectionId\" value={this.state.connectionId} onChange={this.handleChange} className=\"form-control\" placeholder=\"Enter connection Id\" id=\"connectionConnectionId\" />\r\n                    {\r\n                        this.state.formErrors.idErr && <div style={{ color: \"red\", paddingBottom: 10 }}>{  this.state.formErrors.idErr}</div>\r\n                    }\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"currentReading\">Current Reading</label>\r\n                    <input type=\"number\" name=\"currentReading\" value={this.state.currentReading} onChange={this.handleChange} className=\"form-control\" placeholder=\"Enter current reading\" id=\"currentReading\" />\r\n                    {\r\n                      this.state.formErrors.CurrentReadingErr && <div style={{ color: \"red\", paddingBottom: 10 }}>{  this.state.formErrors.CurrentReadingErr}</div>\r\n                    }\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label for=\"currentdate\">Current Date</label>\r\n                    <input type=\"date\" name=\"currentdate\" value={this.state.currentdate} onChange={this.handleChange} className=\"form-control\" placeholder=\"Enter current date\" id=\"currentdate\" />\r\n                    {\r\n                      this.state.formErrors.CurrentDateErr && <div style={{ color: \"red\", paddingBottom: 10 }}>{  this.state.formErrors.CurrentDateErr}</div>\r\n                    }\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"previousReading\">Previous Reading</label>\r\n                    <input type=\"number\" name=\"previousReading\" value={this.state.previousReading} onChange={this.handleChange} className=\"form-control\" placeholder=\"Enter previous reading\" id=\"previousReading\" />\r\n                    {\r\n                      this.state.formErrors.PreviousReadingErr && <div style={{ color: \"red\", paddingBottom: 10 }}>{  this.state.formErrors.PreviousReadingErr}</div>\r\n                    }\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <label htmlFor=\"previousdate\">Previous Date</label>\r\n                    <input type=\"date\" name=\"previousdate\" value={this.state.previousdate} onChange={this.handleChange} className=\"form-control\" placeholder=\"Enter previous date\" id=\"previousdate\" />\r\n                    {\r\n                      this.state.formErrors.PreviousDateErr && <div style={{ color: \"red\", paddingBottom: 10 }}>{  this.state.formErrors.PreviousDateErr}</div>\r\n                    }\r\n                </div>\r\n                <div style={{paddingLeft:\"250px\"}}>\r\n                    <button onClick={this.handleSubmit} className=\"button\">Add</button>\r\n                </div>\r\n            </div>\r\n            <Footer/>\r\n            </div>\r\n        )\r\n    }\r\n \r\n}\r\n\r\nexport default SaveConsumption;"]},"metadata":{},"sourceType":"module"}